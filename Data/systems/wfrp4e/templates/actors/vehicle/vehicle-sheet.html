<form class="{{cssClass}}" autocomplete="off">
  <div class="header personal">
    <a id="configure-actor">{{localize "Configure"}}</a>
  </div>

  <header class="sheet-header" ondragstart="return false;" ondrop="return false;">
    <h1 class="charname item">
      <input class="input name" style="box-shadow: none !important;" name="name" type="text" value="{{actor.name}}"
        placeholder="Name" />
      <a class="label name name-gen">{{localize "Name"}}</a>
    </h1>
  </header>

  <section class="general" ondragstart="return false;" ondrop="return false;">
    <img class="charimg profile" src="{{actor.img}}" title="{{actor.name}}" height="95" width="95" data-edit="img">
    <div class="items">
      <div class="main-row">

        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Toughness"}}</h4>
            </div>
            <div class="attribute-value">
              <input name="data.characteristics.t.initial" type="text" value="{{data.characteristics.t.initial}}">
            </div>
          </div>
        </div>

        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Move"}}</h4>
            </div>
            <div class="attribute-value">
              <input name="data.details.move.value" type="text" value="{{data.details.move.value}}">
            </div>
          </div>
        </div>

        <div class="attribute-box">
          <div class="minmax-section">
            <span class="attribute-label">{{localize "Wounds"}}</span>
            <div class="minmax-box">
              <div class="current value">
                <input data-dtype="{{data.status.wounds.type}}" type="text" value="{{data.status.wounds.value}}" name="data.status.wounds.value">
              </div>
              <div class="divisor">
                /
              </div>
              <div class="max value">
                <input name="data.status.wounds.max" type="text" value="{{data.status.wounds.max}}" data-dtype="{{data.status.wounds.type}}">
              </div>
            </div>
          </div>
        </div>



        <div class="attribute-box vehicle-crit">
          <div class="minmax-section">
            <span class="attribute-label">{{localize "Critical Wounds"}}</span>
            <div class="minmax-box">
              <div class="current value">
                <span>{{data.status.criticalWounds.value}}</span>
              </div>
              <div class="divisor">
                /
              </div>
              <div class="max value">
                {{#if actor.flags.autoCalcCritW}}
                <a class="auto-calc-toggle" toggle-type="critW">{{data.status.criticalWounds.max}}</a>
                {{else}}
                <input class="auto-calc-toggle" toggle-type="critW" name="data.status.criticalWounds.max" type="text" value="{{data.status.criticalWounds.max}}" data-dtype="{{data.status.criticalWounds.type}}">
                {{/if}}
              </div>
            </div>
          </div>
        </div>


        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Carries"}}</h4>
            </div>
            <div class="attribute-value">
              <input type="text" name="data.status.carries.max" value="{{data.status.carries.max}}" data-dtype="Number"/>
           </div>
          </div>
        </div>

        <!-- <div class="attribute-box">
          <div class="minmax-section">
            <span class="attribute-label">{{localize "Carries"}}</span>
            <div class="minmax-box">
              <div class="current value">
                <input data-dtype="{{data.status.carries.type}}" type="text" value="{{data.status.carries.value}}" name="data.status.carries.value">
              </div>
              <div class="divisor">
                /
              </div>
              <div class="max value">
                <input name="data.status.carries.max" type="text" value="{{data.status.carries.max}}" data-dtype="{{data.status.carries.type}}">
              </div>
            </div>
          </div>
        </div> -->
      </div>

      <div class="main-row">
        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Encumbrance"}}</h4>
            </div>
            <div class="attribute-value">
              <input type="text" name="data.details.encumbrance.initial" value="{{data.details.encumbrance.initial}}"data-dtype="Number"/>
           </div>
          </div>
        </div>

        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Availability"}}</h4>
            </div>
            <div class="attribute-value">
              <select name="data.details.availability.value">
                {{#select data.details.availability.value}}
                {{#each availabilities as |availability a|}}
                <option value="{{a}}">{{availability}}</option>
                {{/each}}
                {{/select}}
              </select>
           </div>
          </div>
        </div>

        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Motive Power"}}</h4>
            </div>
            <div class="attribute-value">
              <input type="text" name="data.details.motivePower.value" value="{{data.details.motivePower.value}}" data-dtype="String"/>
           </div>
          </div>
        </div>

        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Cost"}} (GC)</h4>
            </div>
            <div class="attribute-value">
              <input type="text" name="data.details.price.gc" value="{{data.details.price.gc}}" data-dtype="Number"/>
           </div>
          </div>
        </div>

        <div class="attribute-box">
          <div class="attribute-section">
            <div class="attribute-name">
              <h4 class="attribute-label">{{localize "Length"}} (ft.)</h4>
            </div>
            <div class="attribute-value">
              <input type="text" name="data.details.length.value" value="{{data.details.length.value}}" data-dtype="Number"/>
           </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TABS -->
  <section id="tab-sections">
    <nav id="wfrp4e-primarytabs" class="sheet-tabs tabs" data-group="primary" ondragstart="return false;"
      ondrop="return false;">
      <a class="item active" data-tab="main">{{localize "Main"}}</a>
      <a class="item" data-tab="cargo">{{localize "Cargo"}}</a>
      <a class="item" data-tab="description">{{localize "Description"}}</a>
    </nav>
    <section class="content">
      <div class="tab main save-scroll" data-tab="main" data-group="primary">
        {{> systems/wfrp4e/templates/actors/vehicle/vehicle-main.html}}
      </div>
      <div class="tab cargo save-scroll" data-tab="cargo" data-group="primary">
        {{> systems/wfrp4e/templates/actors/vehicle/vehicle-cargo.html}}
      </div>
      <div class="tab description save-scroll" data-tab="description" data-group="primary">
        {{> systems/wfrp4e/templates/actors/vehicle/vehicle-description.html}}
      </div>
    </section>
  </section>

</form>

<script>
  textContainer = document.querySelectorAll('.vehicle-sheet .window-title');
  length = textContainer.length;

  for (i = 0; i < length; i++) {

    if (textContainer[i].innerHTML.includes("[Token]")) {
      new_red = document.getElementsByClassName("vehicle-sheet")[i].id;
      if (!document.getElementById(new_red).className.includes("token-actor")) {
        document.getElementById(new_red).className += " token-actor";
      }
      else {
      }
    }
    else {
    }
  }


</script>