{"name":"Wall Height - Migrate Current Scene","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"WallHeight.migrateData(canvas.scene)","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.h3qyEgom3RjIgvq7"}},"_id":"5zElsDCnePqaHmQ6"}
{"name":"Wall Height - Migrate Everything","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"WallHeight.migrateAll()","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.y6b1SJZozuE3pwS7"}},"_id":"BPHdMeF9dqwwghfS"}
{"name":"Set Elevation","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/mountain.svg","scope":"global","command":"let applyChanges = false;\n\nif(args && args.length>0){\nconsole.log(args);\n  let enterval=parseFloat(args[0]);\n  let exitval= args.length>1?parseFloat(args[1]):null;\n  let elevation=0;\n  if(event && event === MLT.ENTER)\n    elevation = enterval;\n  else if(event ** event === MLT.LEAVE)\n    elevation = exitval;\n    token.document.update({\n        \"elevation\": elevation\n    });\n}\nelse\n{\n    new Dialog({\n    title: `Token Elevation Changer`,\n    content: `\n      <form>\n        <div class=\"form-group\">\n          <label>Elevation Value:</label>\n          <input id=\"token-elevation\" name=\"token-elevation\" type=\"number\" step=\"1\" value=\"0\"/>\n        </div>\n      </form>\n      `,\n    buttons: {\n      yes: {\n        icon: \"<i class='fas fa-check'></i>\",\n        label: `Apply Changes`,\n        callback: () => applyChanges = true\n      },\n      no: {\n        icon: \"<i class='fas fa-times'></i>\",\n        label: `Cancel Changes`\n      },\n    },\n    default: \"yes\",\n    close: async (html) => {\n      if (applyChanges) {\n        for ( let token of canvas.tokens.controlled ) {\n        let elevation = html.find('[name=\"token-elevation\"]')[0].value || \"0\";\n        await token.document.update({\n            \"elevation\": parseFloat(elevation)\n        });\n\n        }\n      }\n    }\n  }).render(true);\n}","folder":null,"sort":0,"permission":{"default":0,"M6L6STuBiXTluEz7":3,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.CpL3YgGgMfvubvuq"}},"_id":"EnrKiUU4syNsPvKx"}
{"name":"Wall Height - Migrate Token Height","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"WallHeight.migrateTokenHeight()","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.BhqF3Fbsqgu0Dy0s"}},"_id":"bKDBWpXkOxfB65Wq"}
{"name":"Wall Height - Reduce Top By  One","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"WallHeight.removeOneToWalls()","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.M0klOUeUmDepn4v2"}},"_id":"q9sxsxABjshPkK0V"}
{"name":"Wall Height - Set Wall Bounds","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"//Set top and bottom of walls, if walls is left as null the selected walls will be used (if any) or all walls if none selected.\n\nconst bottom = 0;\nconst top = 10;\nconst walls = null;\n\nWallHeight.setWallBounds(bottom, top, walls)","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.yo58i5r6hsJwFotR"}},"_id":"rxNj5WMqtaGKglYV"}
{"name":"Wall Height - Migrate Compendiums","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"WallHeight.migrateCompendiums()","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.h3qyEgom3RjIgvq7"}},"_id":"uPDEi0D43DJ8ifBf"}
